(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{116:function(e,t,n){},140:function(e,t){},142:function(e,t){},152:function(e,t,n){"use strict";n.r(t);var a=n(5),i=n(0),c=n.n(i),r=n(10),o=n.n(r),s=(n(116),n(27)),l=n(194),j=n(195),u=n(187),b=n(189),d=n(202),h=n(199),m=n(13),O=n(198),f=n(89),p=n.n(f),g="get_movies_request",x="get_movies_success",v="get_movie_failure",y="add_nomination",w="remove_nomination",k=function(e,t){return function(n){p.a.get("http://www.omdbapi.com",{params:{apikey:"72d02239",s:e,page:t}}).then((function(e){var t,a;n((t=e.data.Search,a=e.data.totalResults,{type:x,payload:{movies:t||[],total:a||0}}))})).catch((function(){n({type:v})}))}},C=n(185),S=n(190),N=n(188),T=n(90),_=n(183),I=n(98),D=Object(_.a)((function(e){return{root:{height:"100vh",width:"100vw",margin:0,textAlign:"center"},searchBar:{color:e.palette.primary},header:{fontWeight:100,fontSize:32,color:e.palette.primary},subheader:{fontWeight:100,fontSize:20,color:e.palette.primary},movieCard:{padding:e.spacing(2),height:"100%",width:"100%",background:e.palette.secondary.main},imageContainer:{width:128,height:128},image:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},skeleton:{width:"100%",height:"100%"},drawer:{width:"10vw",background:e.palette.primary.main}}})),L=Object(I.a)({palette:{primary:{main:"#84a98c"},secondary:{main:"#edf6f9"},background:{default:"#83c5be"}}}),M=function(e){var t=e.movie,n=e.buttonText,c=e.onClick,r=e.isDisabled,o=D(),l=Object(i.useState)(!0),j=Object(s.a)(l,2),d=j[0],h=j[1];return Object(a.jsx)(C.a,{className:o.movieCard,children:Object(a.jsxs)(u.a,{container:!0,alignItems:"center",xs:!0,justify:"center",alignContent:"center",direction:"column",wrap:"nowrap",children:[Object(a.jsxs)(u.a,{item:!0,className:o.imageContainer,children:[Object(a.jsx)("img",{style:{display:d?"none":"block"},className:o.image,alt:"",src:t.Poster,onLoad:function(){h(!1)}}),d&&Object(a.jsx)(N.a,{variant:"rect",className:o.skeleton})]}),Object(a.jsx)(u.a,{item:!0,xs:!0,children:Object(a.jsx)(T.a,{speed:30,children:t.Title})}),Object(a.jsx)(u.a,{item:!0,xs:!0,children:Object(a.jsx)(b.a,{variant:"body1",children:t.Year})}),Object(a.jsx)(u.a,{item:!0,xs:!0,children:Object(a.jsx)(S.a,{variant:"outlined",size:"small",onClick:function(e){return c(t)},disabled:r(t),fullWidth:!0,children:n})})]})})},W=function(e){var t=e.row,n=Object(m.c)((function(e){return e.nominations})),i=Object(m.c)((function(e){return 5===e.nominations.length})),r=Object(m.b)();return Object(a.jsx)(c.a.Fragment,{children:t.map((function(e){return Object(a.jsx)(u.a,{item:!0,xs:1,children:Object(a.jsx)(M,{movie:e,buttonText:"Nominate",onClick:function(e){r(function(e){return{type:y,payload:e}}(e))},isDisabled:function(e){return i||n.includes(e)}})},e.imdbID)}))})},E=function(){var e=Object(m.c)((function(e){return e.movies})),t=Object(i.useState)(1),n=Object(s.a)(t,2),r=n[0],o=n[1],l=Object(m.c)((function(e){return e.searchString})),j=Object(m.c)((function(e){return Math.ceil(e.total/10)})),d=Object(m.c)((function(e){return e.error})),h=(Object(m.c)((function(e){return e.isLoading})),function(e,t){if(e){for(var n=[],a=0;a<e.length;a+=t){var i=e.slice(a,a+t);n.push(i)}return n}}(e,5)),f=Object(m.b)();return Object(i.useEffect)((function(){l&&r>0&&f(k(l,r))}),[r,l]),e&&l.length>0&&Object(a.jsx)(c.a.Fragment,{children:e.length>0?Object(a.jsxs)(u.a,{container:!0,item:!0,spacing:2,children:[h.map((function(e,t){return Object(a.jsx)(u.a,{container:!0,item:!0,spacing:2,justify:"center",alignItems:"center",children:Object(a.jsx)(W,{row:e})},t)})),Object(a.jsx)(u.a,{item:!0,container:!0,justify:"center",children:Object(a.jsx)(O.a,{count:j,page:r,onChange:function(e,t){o(t)}})})]}):Object(a.jsx)(u.a,{item:!0,children:Object(a.jsx)(b.a,{variant:"subtitle1",children:d?"Error":"No Results"})})})},F=n(201),z=n(191),B=n(192),H=function(){var e=D(),t=Object(m.b)(),n=Object(m.c)((function(e){return e.nominations})),r=Object(i.useState)(!1),o=Object(s.a)(r,2),l=o[0],j=o[1],u=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&j(!l)};return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(S.a,{variant:"outlined",onClick:u,children:"My Nominations"}),Object(a.jsx)(F.a,{anchor:"right",open:l,onClose:u,disableElevation:!0,classes:{paper:e.drawer},children:Object(a.jsx)(z.a,{children:n&&n.length>0?Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(b.a,{align:"center",className:e.subheader,children:"My Nominations"}),n.map((function(e,n){return Object(a.jsx)(B.a,{children:Object(a.jsx)(M,{movie:e,buttonText:"Remove",onClick:function(e){t(function(e){return{type:w,payload:e}}(e))},isDisabled:function(){return!1}})})}))]}):Object(a.jsx)(b.a,{align:"center",children:"No Nominations"})})})]})},R=n(197),J=n(196),q=function(e){var t=e.onSearch,n=D();return Object(a.jsx)(R.a,{className:n.searchBar,children:Object(a.jsx)(J.a,{id:"search",helperText:"Search Movie titles...",autoComplete:"off",fullWidth:!0,onChange:function(e){t(e.target.value.trim(),1)}})})},A=function(){var e=Object(m.c)((function(e){return 5===e.nominations.length})),t=Object(i.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1],o=Object(m.b)(),O=D(),f=function(e,t){"clickaway"!==t&&r(!1)};return Object(i.useEffect)((function(){r(e)}),[e]),Object(a.jsxs)(l.a,{theme:L,children:[Object(a.jsx)(j.a,{}),Object(a.jsx)("div",{className:O.root,children:Object(a.jsxs)(u.a,{container:!0,spacing:4,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:[Object(a.jsx)(b.a,{className:O.header,children:"The Shoppies"}),Object(a.jsx)(H,{}),Object(a.jsx)(u.a,{item:!0,container:!0,alignItems:"center",xs:6,children:Object(a.jsx)(u.a,{item:!0,xs:!0,children:Object(a.jsx)(q,{onSearch:function(e){return o(function(e){return{type:g,payload:e}}(e))}})})}),Object(a.jsx)(u.a,{item:!0,xs:12,alignItems:"center",justify:"center",children:Object(a.jsx)(E,{})})]})}),Object(a.jsx)(d.a,{open:c,autoHideDuration:6e3,onClose:f,children:Object(a.jsx)(h.a,{severity:"success",onClose:f,children:"Nominated 5 Movies!"})})]})},P=n(99),Y=n(23),G={movies:[],nominations:[],searchString:"",total:-1,error:!1,isLoading:!1},K=n(38),Q=n(96),U=n(97),V=[Q.a],X=Object(K.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(Y.a)(Object(Y.a)({},e),{},{movies:t.payload.movies,total:t.payload.total,error:!1,isLoading:!1});case g:return Object(Y.a)(Object(Y.a)({},e),{},{searchString:t.payload,total:0,isLoading:!0});case v:return Object(Y.a)(Object(Y.a)({},e),{},{error:!0,isLoading:!1});case y:return Object(Y.a)(Object(Y.a)({},e),{},{nominations:[].concat(Object(P.a)(e.nominations),[t.payload])});case w:return Object(Y.a)(Object(Y.a)({},e),{},{nominations:e.nominations.filter((function(e){return e!==t.payload}))});default:return e}}),Object(U.composeWithDevTools)(K.applyMiddleware.apply(void 0,V)));o.a.render(Object(a.jsx)(m.a,{store:X,children:Object(a.jsx)(A,{})}),document.getElementById("root"))}},[[152,1,2]]]);
//# sourceMappingURL=main.b9ec55cc.chunk.js.map